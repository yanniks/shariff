
/*
 * shariff - v1.5.0 - 18.01.2015
 * https://github.com/heiseonline/shariff
 * Copyright (c) 2015 Ines Pauer, Philipp Busse, Sebastian Hilbig, Erich Kramer, Deniz Sesli
 * Licensed under the MIT <http://www.opensource.org/licenses/mit-license.php> license
 */


(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports=window;
},{}],2:[function(require,module,exports){
"use strict";module.exports=function(e){var o=encodeURIComponent(e.getURL());return{popup:!0,noblank:!1,mobileonly:!1,shareText:{de:"teilen",en:"share",es:"compartir"},name:"facebook",title:{de:"Bei Facebook teilen",en:"Share on Facebook",es:"Compartir en Facebook"},shareUrl:"https://www.facebook.com/sharer/sharer.php?u="+o+e.getReferrerTrack()}};
},{}],3:[function(require,module,exports){
"use strict";module.exports=function(e){return{popup:!0,noblank:!1,mobileonly:!1,shareText:"+1",name:"googleplus",title:{de:"Bei Google+ teilen",en:"Share on Google+",es:"Compartir en Google+"},shareUrl:"https://plus.google.com/share?url="+e.getURL()+e.getReferrerTrack()}};
},{}],4:[function(require,module,exports){
"use strict";module.exports=function(e){return{popup:!1,noblank:!1,mobileonly:!1,shareText:"Info",name:"info",title:{de:"weitere Informationen",en:"more information",es:"Más informaciones"},shareUrl:e.getInfoUrl()}};
},{}],5:[function(require,module,exports){
"use strict";module.exports=function(e){var n=encodeURIComponent(e.getURL());return{popup:!0,noblank:!1,mobileonly:!1,shareText:{de:"teilen",en:"share",es:"compartir"},name:"linkedin",title:{de:"Bei LinkedIn teilen",en:"Share on LinkedIn",es:"Compartir en LinkedIn"},shareUrl:"https://www.linkedin.com/shareArticle?mini=true&url="+n+e.getReferrerTrack()+"&title="+e.getShareText()+"&summary=&source="}};
},{}],6:[function(require,module,exports){
"use strict";module.exports=function(e){return{popup:!1,noblank:!1,mobileonly:!1,shareText:"mail",name:"mail",title:{de:"Per E-Mail versenden",en:"Send by email",es:"Enviar por email"},shareUrl:"mailto:?body="+encodeURIComponent(e.getURL()+e.getReferrerTrack())+"&subject="+e.getShareText()}};
},{}],7:[function(require,module,exports){
"use strict";module.exports=function(e){var t=encodeURIComponent(e.getURL());return{popup:!0,noblank:!1,mobileonly:!1,shareText:{de:"Pin it",en:"Pin it",es:"Pin it"},name:"pinterest",title:{de:"Bei Pinterest pinnen",en:"Pin it on Pinterest",es:"Compartir en Pinterest"},shareUrl:"//www.pinterest.com/pin/create/button/?url="+t+e.getReferrerTrack()+"&media="+e.getImageUrl()+"&description="+e.getShareText()}};
},{}],8:[function(require,module,exports){
"use strict";module.exports=function(e){var r=encodeURIComponent(e.getURL());return{popup:!0,noblank:!1,mobileonly:!1,shareText:{de:"teilen",en:"share",es:"compartir"},name:"reddit",title:{de:"Bei Reddit teilen",en:"Share on Reddit",es:"Compartir en Reddit"},shareUrl:"//www.reddit.com/submit?url="+r+e.getReferrerTrack()}};
},{}],9:[function(require,module,exports){
"use strict";module.exports=function(e){var n=encodeURIComponent(e.getURL());return{popup:!0,noblank:!1,mobileonly:!1,shareText:{de:"teilen",en:"share",es:"compartir"},name:"stumbleupon",title:{de:"Bei StumbleUpon teilen",en:"Share on StumbleUpon",es:"Compartir en StumbleUpon"},shareUrl:"//www.stumbleupon.com/submit?url="+n+e.getReferrerTrack()}};
},{}],10:[function(require,module,exports){
"use strict";module.exports=function(e){return{popup:!0,noblank:!1,mobileonly:!1,shareText:"tweet",name:"twitter",title:{de:"Bei Twitter teilen",en:"Share on Twitter",es:"Compartir en Twitter"},shareUrl:"https://twitter.com/intent/tweet?text="+e.getShareText()+"&url="+e.getURL()+e.getReferrerTrack()}};
},{}],11:[function(require,module,exports){
"use strict";module.exports=function(e){return{popup:!1,noblank:!0,mobileonly:!0,shareText:"WhatsApp",name:"whatsapp",title:{de:"Bei Whatsapp teilen",en:"Share on Whatsapp",es:"Compartir en Whatsapp"},shareUrl:"whatsapp://send?text="+e.getShareText()+"%20"+encodeURIComponent(e.getURL()+e.getReferrerTrack())}};
},{}],12:[function(require,module,exports){
"use strict";module.exports=function(e){var r=encodeURIComponent(e.getURL());return{popup:!0,noblank:!1,mobileonly:!1,shareText:{de:"teilen",en:"share",es:"compartir"},name:"xing",title:{de:"Bei XING teilen",en:"Share on XING",es:"Compartir en XING"},shareUrl:"//www.xing.com/social_plugins/share?url="+r+e.getReferrerTrack()}};
},{}],13:[function(require,module,exports){
(function (global){
"use strict";var $=(typeof window !== "undefined" ? window.$ : typeof global !== "undefined" ? global.$ : null),window=require("browserify-window"),_Shariff=function(e,t){var n=this;this.element=e,this.options=$.extend({},this.defaults,t,$(e).data());var r=[require("./services/facebook"),require("./services/googleplus"),require("./services/twitter"),require("./services/whatsapp"),require("./services/mail"),require("./services/info"),require("./services/linkedin"),require("./services/xing"),require("./services/pinterest"),require("./services/reddit"),require("./services/stumbleupon")];this.services=$.map(this.options.services,function(e){var t;return r.forEach(function(r){return r=r(n),r.name===e?(t=r,null):void 0}),t}),this._addButtonList(),null!==this.options.backendUrl&&this.getShares().then($.proxy(this._updateCounts,this))};_Shariff.prototype={defaults:{theme:"color",backendUrl:null,infoUrl:"http://ct.de/-2467514",lang:"de",orientation:"horizontal",referrerTrack:null,services:["twitter","facebook","googleplus","info"],url:function(){var e=global.document.location.href,t=$("link[rel=canonical]").attr("href")||this.getMeta("og:url")||"";return t.length>0&&(t.indexOf("http")<0&&(t=global.document.location.protocol+"//"+global.document.location.host+t),e=t),e}},$socialshareElement:function(){return $(this.element)},getLocalized:function(e,t){return"object"==typeof e[t]?e[t][this.options.lang]:"string"==typeof e[t]?e[t]:void 0},getMeta:function(e){var t=$('meta[name="'+e+'"],[property="'+e+'"]').attr("content");return t||""},getInfoUrl:function(){return this.options.infoUrl},getImageUrl:function(){return this.options.image},getURL:function(){var e=this.options.url;return"function"==typeof e?$.proxy(e,this)():e},getService:function(){var e=this.options.service;return"function"==typeof e?$.proxy(e,this)():e},getTTL:function(){var e=this.options.ttl;return"function"==typeof e?$.proxy(e,this)():e},getTemp:function(){var e=this.options.temp;return"function"==typeof e?$.proxy(e,this)():e},getReferrerTrack:function(){return this.options.referrerTrack||""},getShares:function(){return $.getJSON(this.options.backendUrl+"?url="+encodeURIComponent(this.getURL())+"&temp="+encodeURIComponent(this.getTemp())+"&ttl="+encodeURIComponent(this.getTTL())+"&service="+encodeURIComponent(this.getService()))},_updateCounts:function(e){var t=this;$.each(e,function(e,n){n>=1e3&&(n=Math.round(n/1e3)+"k"),$(t.element).find("."+e+" a").append('<span class="share_count">'+n)})},_addButtonList:function(){var e=this,t=this.$socialshareElement(),n="theme-"+this.options.theme,r="orientation-"+this.options.orientation,i=$("<ul>").addClass(n).addClass(r);this.services.forEach(function(t){if(!t.mobileonly||"undefined"!=typeof window.orientation){var n=$('<li class="shariff-button">').addClass(t.name),r='<span class="share_text">'+e.getLocalized(t,"shareText"),o=$("<a>").attr("href",t.shareUrl).append(r);t.popup?o.attr("rel","popup"):t.noblank||o.attr("target","_blank"),o.attr("title",e.getLocalized(t,"title")),n.append(o),i.append(n)}}),i.on("click",'[rel="popup"]',function(e){e.preventDefault();var t=$(this).attr("href"),n=$(this).attr("title"),r="600",i="460",o="width="+r+",height="+i;global.window.open(t,n,o)}),t.append(i)},abbreviateText:function(e,t){var n=decodeURIComponent(e);if(n.length<=t)return e;var r=n.substring(0,t-1).lastIndexOf(" ");return n=encodeURIComponent(n.substring(0,r))+"…"},getShareText:function(){var e=this.getMeta("DC.title"),t=this.getMeta("DC.creator");return e.length>0&&t.length>0?e+=" - "+t:e=$("title").text(),encodeURIComponent(this.abbreviateText(e,120))}},module.exports=_Shariff,$(".shariff").each(function(){this.shariff=new _Shariff(this)});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./services/facebook":2,"./services/googleplus":3,"./services/info":4,"./services/linkedin":5,"./services/mail":6,"./services/pinterest":7,"./services/reddit":8,"./services/stumbleupon":9,"./services/twitter":10,"./services/whatsapp":11,"./services/xing":12,"browserify-window":1}]},{},[13]);
